[core]
  excludesfile = ~/.gitignore

[user]
  email = benoit.dechezelles@gmail.com
  name = Benoit de Chezelles

[github]
  # some tools uses this
  user = bew

[push]
  # When 'push' subcmd is called without a remote branch,
  # use the current local branch name as the remote branch name.
  default = current

[pull]
  # Only allow fast-forward merge when using 'pull'.
  # => Non-ff merge is not attempted automatically and will need to be done manually.
  ff = only

[merge]
  # When 'merge' subcmd is called without any ref, merge the upstream branch in.
  defaultToUpstream = true

[help]
  autocorrect = -1 # without prompt

[color]
  interactive = true

[color "status"]
  untracked = "cyan"

[diff]
  # Give a little bit more context in diffs (defaut is 3)
  context = 10
  # TODO (bug report?): does not seems to work on diffs visible in `git add -p`.

  # Moved lines of code are colored differently.
  colorMoved = default
  # Ignore whitespace changes for indentation only.
  colorMovedWS = allow-indentation-change

  tool = nvim_diff # NOTE: I _never_ use this....

[color "diff"]
  # color settings for 'colorMoved' option
  oldMoved = cyan 17
  newMoved = cyan 17

[difftool "nvim_diff"]
  cmd = nvim -d "$LOCAL" "$MERGED" "$REMOTE"

# Useful when I can't use SSH to communicate with github and I don't want to
# type my password/personal-token everytime.
#
# [credential "https://github.com"]
#   username = bew
#   helper = github-bew-password-from-env

[alias]

  # add & commit
  a = add
  ap = add -p
  an = add -N
  com = commit --verbose
  comp = com -p
  comam = com --amend

  # index manipulation
  f = fetch
  m = merge
  ch = checkout
  sth = stash
  untrack = rm --cached

  unstage = reset HEAD

  # remote interaction
  ph = push
  pl = pull
  rem = remote -v

  # info only
  #----------------------------

  br  = branch
  brv = "!git --no-pager branch -vv"

  s   = status --ignore-submodules=all
  suf = status --untracked-files

  # log (minimal)
  pretty-log = log --graph --decorate --date=format:'%a %e %b %Y [%H:%M]' --pretty=tformat:'%C(bold red)%h%C(reset) - %C(bold cyan)%ad%C(reset) | %C(green)%ar%C(reset)%C(auto)%d   %C(dim magenta)by %an%C(reset)%n%s%n'
  ll = pretty-log
  la = pretty-log --all
  lo = pretty-log --oneline

  # log (verbose)
  # (basically same as: pretty-log + the commit body & notes if available)
  pretty-log-verbose = log --graph --decorate --date=format:'%a %e %b %Y [%H:%M]' --pretty=format:'%C(bold red)%h%C(reset) - %C(bold cyan)%ad%C(reset) | %C(green)%ar%C(reset)%C(auto)%d   %C(dim magenta)by %an%C(reset)%n%s%n%+b%+N'
  llv = pretty-log-verbose
  lav = pretty-log-verbose --all

  # diff
  d  = diff
  dc = diff --staged
  dd  = diff -w
  ddc = diff -w --staged

  stat = !git --no-pager diff --stat --summary

  # last merge stats
  stat-last-merge = stat ORIG_HEAD..
  slm = stat-last-merge

  # last merge diff
  diff-last-merge = diff ORIG_HEAD..
  dlm = diff-last-merge

  # last merge logs
  log-last-merge = pretty-log ORIG_HEAD..
  llm = log-last-merge

  gc-remove-old-commits = reflog expire --all --expire=now
  gc-compress-repo = gc --aggressive --prune=now

# -- BEGIN delta config

[core]
  pager = delta

[interactive]
  diffFilter = delta --color-only

[delta]
  features = line-numbers decorations
  ; whitespace-error-style = 22 reverse
  syntax-theme = DarkNeon
  paging = always

  # Removed lines
  minus-style = normal 52
  minus-emph-style = normal bold 88

  # Added lines
  plus-style = syntax 22
  plus-emph-style = normal bold 28

  file-modified-label = changed:

[delta "decorations"]
  file-style = bold 166
  file-decoration-style = none
  # NOTE: the decoration styles ul/ol/box uses unicode chars AFAIK

  commit-decoration-style = ol

  hunk-header-style = 243 236 # light grey on dark grey
  hunk-header-decoration-style = bold

  ; >> Using ASCII separator
  ; line-numbers-left-format = {nm:^4}|
  ; line-numbers-right-format = {np:^4}|
  ; >> Using Unicode separator
  line-numbers-left-format = {nm:^4}|
  line-numbers-right-format = {np:^4}â”‚

# -- END delta config

# vim:set ft=gitconfig:
